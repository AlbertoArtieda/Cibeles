{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="hero">
    <div class="img-background">
        <img src="{% static 'img/fondo-azulejos.png' %}" alt="" class="desktop-bg">
        <img src="{% static 'img/fondo-azulejos-móvil.png' %}" alt="" class="mobile-bg">
    </div>
    <div class="logo-container">
        <img src="{% static 'img/Cibeles.svg' %}" alt="Cibeles Logo">
    </div>
    
</section>
<section class="home-container">
    <h1>Próximos eventos</h1>
    
    <div class="home-grid">
        {% for evento in eventos %}
        <div class="home-evento-card">
            <div class="home-evento-imagen">
                {% if evento.imagen %}
                <img src="{{ evento.imagen.url }}" alt="{{ evento.nombre }}">
                {% else %}
                <div class="evento-sin-imagen"></div>
                {% endif %}
                <div class="evento-fecha">
                    <span class="dia">{{ evento.fecha_inicio|date:"d" }}</span>
                    <span class="mes">{{ evento.fecha_inicio|date:"M"|upper }}</span>
                </div>
            </div>
            
            <div class="evento-contenido">
                <div class="evento-cabecera">
                    <h2 class="evento-titulo">{{ evento.nombre }}</h2>
                    <div class="evento-hora">
                        <i class="far fa-clock"></i>
                        {{ evento.fecha_inicio|time:"H:i" }} - {{ evento.fecha_fin|time:"H:i" }}
                    </div>
                </div>
                
                <div class="home-evento-precios">
                    {% if not evento.precio_anticipado and not evento.precio_taquilla %}
                    <span class="precio">Evento gratuito</span>
                    {% endif %}
                    {% if evento.precio_anticipado %}
                    <span class="precio">Anticipada: {{ evento.precio_anticipado }}€</span>
                    {% endif %}
                    {% if evento.precio_taquilla %}
                    <span class="precio">Taquilla: {{ evento.precio_taquilla }}€</span>
                    {% endif %}
                </div>
                
                <div class="evento-acciones">
                    <a href="{% url 'evento_detalle' evento.slug %}" class="btn-mas-info">Más información</a>
                    {% if evento.link_entradas %}
                    <a href="{{ evento.link_entradas }}" class="btn-comprar" target="_blank">
                        Comprar entradas
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% empty %}
        <p class="home-no-eventos">No hay eventos programados por el momento.</p>
        {% endfor %}
    </div>
    <a href="{% url 'agenda' %}" class="home-btn-agenda">Agenda completa</a>
</section>

<section class="home-container">
    <div class="home-mapa">
    <h2>¿Dónde estamos?</h2>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d374.46386484801883!2d-3.6930538615176673!3d40.419323982431!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd422884b69e1855%3A0x325f7e929ee22f72!2sFuente%20de%20Cibeles!5e0!3m2!1ses!2ses!4v1761904567222!5m2!1ses!2ses" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
</section>
{% endblock %}